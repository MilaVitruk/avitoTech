## Тесткейсы API
За время выполнения задания несколько раз обновлялась JSON-коллекция postman, изменения затрагивали публикацию объявления в части ключа "statistics". На основе логических заключений и опыта мною было принято решение, что статистика не должна иметь возможность публиковаться, а новое объявление по умолчанию должно быть создано с нулевой статистикой.  
___

## 1. Получить объявление по id
Создать объявление (отправить POST запрос c JSON типа:

            {
                "name": "<string>",
                "price": "<integer>",
                "sellerId": "<integer>"
            }
на
https://qa-internship.avito.com/api/1/item)  
Распарсить JSON-ответ, получить id объявления  
Отправить GET запрос на
https://qa-internship.avito.com/api/1/item/:id  

| №   | Шаги                                              | Тестовые данные                             | Ожидаемый результат |
|-----|---------------------------------------------------|---------------------------------------------|---------------------|
| 1.1 | Проверить статус-код при валидном id              | id, полученный из POST-запроса              | Статус-код 200      |
| 1.2 | Сравнить id передаваемый в get-запрос id в ответе | id, полученный из POST-запроса              | Равенство id        |
| 1.3 | Проверить структуру JSON-ответа                   | id, полученный из POST-запроса              | JSON Типа*          |
| 1.4 | Проверить статус-код при невалидном id            | "кириллица", None, "", 1234, "@#$%", -10, 0 | Статус-код 400      |
| 1.5 | Проверить статус-код при несуществующем id        | несуществующий id                           | Статус-код 404      |
| 1.6 | Проверить структуру JSON-ответа                   | несуществующий id                           | JSON Типа**         |
| 1.7 | Проверить структуру JSON-ответа                   | id.type() == int                            | JSON Типа**         |
| 1.8 | Вызов запроса с некорректным методом (DELETE)     | method = DELETE, id                         | Статус-код 405      |
| 1.9 | Вызов запроса с некорректным методом (POST)       | method = POST, id                           | Статус-код 405      |

*Ожидаемый формат JSON-ответа для теста 1.3  

        [{
            "id": "<string>",
            "sellerId": "<integer>",
            "name": "<string>",
            "price": "<integer>",
            "statistics": {
            "likes": "<integer>",
            "viewCount": "<integer>",
            "contacts": "<integer>"
            },
            "createdAt": "<string>"
        }
            ]

** Ожидаемый формат JSON-ответа для тестов 1.6, 1.7

    {
          "result": {
            "messages": {},
            "message": "<string>"
          },
          "status": "<string>"
        }


___
## 2. Получить все объявления по продавцам
Отправить GET запрос на
https://qa-internship.avito.com/api/1/:sellerID/item  

| №   | Название                                                                                        | Тестовые данные                                           | Ожидаемый результат |
|-----|-------------------------------------------------------------------------------------------------|-----------------------------------------------------------|---------------------|
| 2.1 | Проверить статус-код при валидном sellerID                                                      | sellerID = 1234345231                                     | Статус-код 200      |
| 2.2 | Сравнить sellerID, переданный в get-запрос и sellerID во всех объявлениях, найденных по запросу | sellerID = 1234345231                                     | Равенство id        |
| 2.3 | Проверить структуру JSON-ответа при валидном sellerID                                           | sellerID = 1234345231                                     | JSON Типа*          |
| 2.4 | Проверить статус-код при невалидном id                                                          | sellerID =['teststringinput', None, "", "{@#$%}", -10, 0] | Статус-код 400      |
| 2.5 | Проверить структуру JSON-ответа при невалидном sellerID                                         | sellerID = 'teststringinput'                              | JSON Типа**         |
| 2.6 | Вызов запроса с некорректным методом (DELETE)                                                   | sellerID = 1234345231                                     | Статус-код 405      |

*Ожидаемый формат JSON-ответа для теста 2.3

        [
          {
            "id": "<string>",
            "sellerId": "<integer>",
            "name": "<string>",
            "price": "<integer>",
            "statistics": {
              "likes": "<integer>",
              "viewCount": "<integer>",
              "contacts": "<integer>"
            },
            "createdAt": "<string>"
          },
        ]

**Ожидаемый формат JSON-ответа для теста 2.5

    {
      "result": {
        "messages": {
          "nostrudffb": "<string>",
          "Ut__": "<string>"
        },
        "message": "<string>"
      },
      "status": "<string>"
    }
___
## 3. Получить статистику по id
Отправить GET запрос на
https://qa-internship.avito.com/api/1/statistic/:id

| №   | Название                                                                                     | Тестовые данные                                | Ожидаемый результат            |
|-----|----------------------------------------------------------------------------------------------|------------------------------------------------|--------------------------------|
| 3.1 | Проверить статус-код при валидном id                                                         | id, полученный из POST-запроса                 | Статус-код 200                 |
| 3.2 | Oтправить GET-запрос на https://qa-internship.avito.com/api/1/item/:id, <br/>cравнить ответы | id, полученный из POST-запроса                 | data_1 == data_2['statistics'] |
| 3.3 | Проверить статус-код при невалидном id                                                       | 'teststringinput', None, '', 1234, "@#$%", -10 | Статус-код 400                 |
| 3.4 | Проверить структуру JSON-ответа при валидном id                                              | id, полученный из POST-запроса                 | JSON Типа**                    |
| 3.5 | Проверить статус-код при неcуществующем id                                                   | несуществующий id                              | Статус код 404                 |
| 3.6 | Проверить структуру JSON-ответа при несуществующем id                                        | несуществующий id                              | JSON Типа**                    |
| 3.7 | Вызов запроса с некорректным методом (DELETE)                                                | method = DELETE, id = valid_id                 | Статус-код 405                 |

*Ожидаемый формат JSON-ответа для теста 3.4  

        [{
            "likes": "<integer>",
            "viewCount": "<integer>",
            "contacts": "<integer>"
            }
        ]

**Ожидаемый формат JSON-ответа для теста 3.6

    {
          "result": {
            "messages": {},
            "message": "<string>"
          },
          "status": "<string>"
        }

___
## 4. Сохранить объявления
Отправить POST-запрос c JSON типа:  

        {
            "name": "<string>",
            "price": "<integer>",
            "sellerId": "<integer>",
        }
на
https://qa-internship.avito.com/api/1/item
Получить ответ типа 

        {'status' : "<string>"}

| №    | Название                                                                                    | Тестовые данные                                                                       | Ожидаемый результат                                            |
|------|---------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------|----------------------------------------------------------------|
| 4.1  | Проверить структуру json-ответа при передаче валидных данных                                | "name": 'dsds', "price": 1,"sellerId": 1234345231                                     | {'status' : "\<string>"}                                       |
| 4.2  | Запросить методом GET объявление по cозданному ID.<br/>Проверить статус-код                 | "name": 'dsds', "price": 1,"sellerId": 1234345231                                     | Статус-код 200                                                 |
| 4.3  | Запросить методом GET объявление по cозданному ID.<br/>Сравнить значения ключа ['name']     | "name": 'dsds', "price": 1,"sellerId": 1234345231                                     | Равенство значений ключа ['name']                              |
| 4.4  | Запросить методом GET объявление по cозданному ID.<br/>Сравнить значения ключа ['price']    | "name": 'dsds', "price": 1,"sellerId": 1234345231                                     | Равенство значений ключа ['price']                             |
| 4.5  | Запросить методом GET объявление по cозданному ID.<br/>Сравнить значения ключа ['sellerID'] | "name": 'dsds', "price": 1,"sellerId": 1234345231                                     | Равенство значений ключа ['sellerID']                          |
| 4.6  | Добавить в запрос ключ ['statistics'], с ненулевыми значениями в случае его добавления      | "statistics": {"contacts": 3,<br/> "likes": 123, "viewCount": 12}                     | "statistics":<br/> {"contacts": 0, "likes": 0, "viewCount": 0} |
| 4.7  | Ввести невалидные данные в значение ['name']                                                | "name": [123, None, True, -10]                                                        | Статус-код 400                                                 |
| 4.8  | Ввести невалидные данные в значение ['price']                                               | "price": [-1000, 0, None, True, "1234"]                                               | Статус-код 400                                                 |
| 4.9  | Ввести невалидные данные в значение ['sellerID']                                            | "sellerID": [-1000, 0, "\<integer>" < 111111, "\<integer>" > 999999, True, "123456" ] | Статус-код 400                                                 |
| 4.10 | Проверить структуру json-ответа при передаче не валидных данных                             | "price": "Not valid price"                                                            | JSON Типа**                                                    |

*При создании объявления стоит создавать ключ 'statistic' программно, а не оставлять на ввод пользователю. Для проведения остальных тестов было принято допущение, что "валидным" значением поля является пустой словарь.  
**Ожидаемый формат JSON-ответа для теста 4.10

        {
          "result": {
            "messages": {
              "nostrudffb": "<string>",
              "Ut__": "<string>"
            },
            "message": "<string>"
          },
          "status": "<string>"
        }

